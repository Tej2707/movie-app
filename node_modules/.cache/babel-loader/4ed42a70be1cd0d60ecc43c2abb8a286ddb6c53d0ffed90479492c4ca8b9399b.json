{"ast":null,"code":"import _classCallCheck from\"C:/Users/hp/Desktop/React/movieapp/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/hp/Desktop/React/movieapp/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Users/hp/Desktop/React/movieapp/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/hp/Desktop/React/movieapp/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from\"react\";import{data}from\"../data\";import Navbar from\"./Navbar\";import MovieCard from\"./MoviCard\";import{addMovies,setShowFav}from\"../action\";import{StoreContext}from\"..\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.isMovieFav=function(movie){var _this$props$store$get=_this.props.store.getState(),movies=_this$props$store$get.movies;return movies.favourites.indexOf(movie)>-1;};_this.onChangeTab=function(val){_this.props.store.dispatch(setShowFav(val));};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var store=this.props.store;//api call\n//dispatch function\nstore.subscribe(function(){_this2.forceUpdate();});store.dispatch(addMovies(data));}},{key:\"render\",value:function render(){var _this3=this;var _this$props$store$get2=this.props.store.getState(),movies=_this$props$store$get2.movies,search=_this$props$store$get2.search;var list=movies.list,favourites=movies.favourites,showFav=movies.showFav;//console.log(\"RENDER\", this.props.store.getState());\nvar displayMovie=showFav?favourites:list;return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Navbar,{search:search}),/*#__PURE__*/_jsxs(\"div\",{className:\"main\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tabs\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"tab \".concat(showFav?\"\":\"active-tabs\"),onClick:function onClick(){return _this3.onChangeTab(false);},children:\"Movies\"}),/*#__PURE__*/_jsx(\"div\",{className:\"tab \".concat(showFav?\"active-tabs\":\"\"),onClick:function onClick(){return _this3.onChangeTab(true);},children:\"Favourites\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"list\",children:displayMovie.map(function(movie,index){return/*#__PURE__*/_jsx(MovieCard,{movie:movie,dispatch:_this3.props.store.dispatch,isFavourite:_this3.isMovieFav(movie)},\"movies-\".concat(index));})}),displayMovie.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"no-movies\",children:\"No movies to display!! \"}):null]})]});}}]);return App;}(React.Component);var AppWrapper=/*#__PURE__*/function(_React$Component2){_inherits(AppWrapper,_React$Component2);var _super2=_createSuper(AppWrapper);function AppWrapper(){_classCallCheck(this,AppWrapper);return _super2.apply(this,arguments);}_createClass(AppWrapper,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(StoreContext.Consumer,{children:function children(store){return/*#__PURE__*/_jsx(App,{store:store});}});}}]);return AppWrapper;}(React.Component);export default AppWrapper;","map":{"version":3,"names":["React","data","Navbar","MovieCard","addMovies","setShowFav","StoreContext","jsx","_jsx","jsxs","_jsxs","App","_React$Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","isMovieFav","movie","_this$props$store$get","props","store","getState","movies","favourites","indexOf","onChangeTab","val","dispatch","_createClass","key","value","componentDidMount","_this2","subscribe","forceUpdate","render","_this3","_this$props$store$get2","search","list","showFav","displayMovie","className","children","onClick","map","index","isFavourite","Component","AppWrapper","_React$Component2","_super2","Consumer"],"sources":["C:/Users/hp/Desktop/React/movieapp/src/components/App.js"],"sourcesContent":["import React from \"react\";\nimport { data } from \"../data\";\nimport Navbar from \"./Navbar\";\nimport MovieCard from \"./MoviCard\";\nimport { addMovies, setShowFav } from \"../action\";\nimport { StoreContext } from \"..\";\n\nclass App extends React.Component {\n  componentDidMount() {\n    const { store } = this.props;\n    //api call\n    //dispatch function\n    store.subscribe(() => {\n      this.forceUpdate();\n    });\n    store.dispatch(addMovies(data));\n  }\n  isMovieFav = (movie) => {\n    const { movies } = this.props.store.getState();\n    return movies.favourites.indexOf(movie) > -1;\n  };\n  onChangeTab = (val) => {\n    this.props.store.dispatch(setShowFav(val));\n  };\n  render() {\n    const { movies, search } = this.props.store.getState();\n    const { list, favourites, showFav } = movies;\n    //console.log(\"RENDER\", this.props.store.getState());\n    const displayMovie = showFav ? favourites : list;\n    return (\n      <div className=\"App\">\n        <Navbar search={search} />\n        <div className=\"main\">\n          <div className=\"tabs\">\n            <div\n              className={`tab ${showFav ? \"\" : \"active-tabs\"}`}\n              onClick={() => this.onChangeTab(false)}\n            >\n              Movies\n            </div>\n            <div\n              className={`tab ${showFav ? \"active-tabs\" : \"\"}`}\n              onClick={() => this.onChangeTab(true)}\n            >\n              Favourites\n            </div>\n          </div>\n          <div className=\"list\">\n            {displayMovie.map((movie, index) => (\n              <MovieCard\n                movie={movie}\n                key={`movies-${index}`}\n                dispatch={this.props.store.dispatch}\n                isFavourite={this.isMovieFav(movie)}\n              />\n            ))}\n          </div>\n          {displayMovie.length === 0 ? (\n            <div className=\"no-movies\">No movies to display!! </div>\n          ) : null}\n        </div>\n      </div>\n    );\n  }\n}\n\nclass AppWrapper extends React.Component {\n  render() {\n    return (\n      <StoreContext.Consumer>\n        {(store) => <App store={store} />}\n      </StoreContext.Consumer>\n    );\n  }\n}\n\nexport default AppWrapper;\n"],"mappings":"gdAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,IAAI,KAAQ,SAAS,CAC9B,MAAO,CAAAC,MAAM,KAAM,UAAU,CAC7B,MAAO,CAAAC,SAAS,KAAM,YAAY,CAClC,OAASC,SAAS,CAAEC,UAAU,KAAQ,WAAW,CACjD,OAASC,YAAY,KAAQ,IAAI,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,4BAE5B,CAAAC,GAAG,uBAAAC,gBAAA,EAAAC,SAAA,CAAAF,GAAA,CAAAC,gBAAA,MAAAE,MAAA,CAAAC,YAAA,CAAAJ,GAAA,WAAAA,IAAA,MAAAK,KAAA,CAAAC,eAAA,MAAAN,GAAA,UAAAO,IAAA,CAAAC,SAAA,CAAAC,MAAA,CAAAC,IAAA,KAAAC,KAAA,CAAAJ,IAAA,EAAAK,IAAA,GAAAA,IAAA,CAAAL,IAAA,CAAAK,IAAA,IAAAF,IAAA,CAAAE,IAAA,EAAAJ,SAAA,CAAAI,IAAA,GAAAP,KAAA,CAAAF,MAAA,CAAAU,IAAA,CAAAC,KAAA,CAAAX,MAAA,QAAAY,MAAA,CAAAL,IAAA,GAAAL,KAAA,CAUPW,UAAU,CAAG,SAACC,KAAK,CAAK,CACtB,IAAAC,qBAAA,CAAmBb,KAAA,CAAKc,KAAK,CAACC,KAAK,CAACC,QAAQ,CAAC,CAAC,CAAtCC,MAAM,CAAAJ,qBAAA,CAANI,MAAM,CACd,MAAO,CAAAA,MAAM,CAACC,UAAU,CAACC,OAAO,CAACP,KAAK,CAAC,CAAG,CAAC,CAAC,CAC9C,CAAC,CAAAZ,KAAA,CACDoB,WAAW,CAAG,SAACC,GAAG,CAAK,CACrBrB,KAAA,CAAKc,KAAK,CAACC,KAAK,CAACO,QAAQ,CAACjC,UAAU,CAACgC,GAAG,CAAC,CAAC,CAC5C,CAAC,QAAArB,KAAA,EAAAuB,YAAA,CAAA5B,GAAA,GAAA6B,GAAA,qBAAAC,KAAA,CAfD,SAAAC,kBAAA,CAAoB,KAAAC,MAAA,MAClB,GAAQ,CAAAZ,KAAK,CAAK,IAAI,CAACD,KAAK,CAApBC,KAAK,CACb;AACA;AACAA,KAAK,CAACa,SAAS,CAAC,UAAM,CACpBD,MAAI,CAACE,WAAW,CAAC,CAAC,CACpB,CAAC,CAAC,CACFd,KAAK,CAACO,QAAQ,CAAClC,SAAS,CAACH,IAAI,CAAC,CAAC,CACjC,CAAC,GAAAuC,GAAA,UAAAC,KAAA,CAQD,SAAAK,OAAA,CAAS,KAAAC,MAAA,MACP,IAAAC,sBAAA,CAA2B,IAAI,CAAClB,KAAK,CAACC,KAAK,CAACC,QAAQ,CAAC,CAAC,CAA9CC,MAAM,CAAAe,sBAAA,CAANf,MAAM,CAAEgB,MAAM,CAAAD,sBAAA,CAANC,MAAM,CACtB,GAAQ,CAAAC,IAAI,CAA0BjB,MAAM,CAApCiB,IAAI,CAAEhB,UAAU,CAAcD,MAAM,CAA9BC,UAAU,CAAEiB,OAAO,CAAKlB,MAAM,CAAlBkB,OAAO,CACjC;AACA,GAAM,CAAAC,YAAY,CAAGD,OAAO,CAAGjB,UAAU,CAAGgB,IAAI,CAChD,mBACExC,KAAA,QAAK2C,SAAS,CAAC,KAAK,CAAAC,QAAA,eAClB9C,IAAA,CAACN,MAAM,EAAC+C,MAAM,CAAEA,MAAO,CAAE,CAAC,cAC1BvC,KAAA,QAAK2C,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnB5C,KAAA,QAAK2C,SAAS,CAAC,MAAM,CAAAC,QAAA,eACnB9C,IAAA,QACE6C,SAAS,QAAA3B,MAAA,CAASyB,OAAO,CAAG,EAAE,CAAG,aAAa,CAAG,CACjDI,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAR,MAAI,CAACX,WAAW,CAAC,KAAK,CAAC,EAAC,CAAAkB,QAAA,CACxC,QAED,CAAK,CAAC,cACN9C,IAAA,QACE6C,SAAS,QAAA3B,MAAA,CAASyB,OAAO,CAAG,aAAa,CAAG,EAAE,CAAG,CACjDI,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAR,MAAI,CAACX,WAAW,CAAC,IAAI,CAAC,EAAC,CAAAkB,QAAA,CACvC,YAED,CAAK,CAAC,EACH,CAAC,cACN9C,IAAA,QAAK6C,SAAS,CAAC,MAAM,CAAAC,QAAA,CAClBF,YAAY,CAACI,GAAG,CAAC,SAAC5B,KAAK,CAAE6B,KAAK,qBAC7BjD,IAAA,CAACL,SAAS,EACRyB,KAAK,CAAEA,KAAM,CAEbU,QAAQ,CAAES,MAAI,CAACjB,KAAK,CAACC,KAAK,CAACO,QAAS,CACpCoB,WAAW,CAAEX,MAAI,CAACpB,UAAU,CAACC,KAAK,CAAE,YAAAF,MAAA,CAFrB+B,KAAK,CAGrB,CAAC,EACH,CAAC,CACC,CAAC,CACLL,YAAY,CAAChC,MAAM,GAAK,CAAC,cACxBZ,IAAA,QAAK6C,SAAS,CAAC,WAAW,CAAAC,QAAA,CAAC,yBAAuB,CAAK,CAAC,CACtD,IAAI,EACL,CAAC,EACH,CAAC,CAEV,CAAC,WAAA3C,GAAA,GAxDeX,KAAK,CAAC2D,SAAS,KA2D3B,CAAAC,UAAU,uBAAAC,iBAAA,EAAAhD,SAAA,CAAA+C,UAAA,CAAAC,iBAAA,MAAAC,OAAA,CAAA/C,YAAA,CAAA6C,UAAA,WAAAA,WAAA,EAAA3C,eAAA,MAAA2C,UAAA,SAAAE,OAAA,CAAArC,KAAA,MAAAN,SAAA,GAAAoB,YAAA,CAAAqB,UAAA,GAAApB,GAAA,UAAAC,KAAA,CACd,SAAAK,OAAA,CAAS,CACP,mBACEtC,IAAA,CAACF,YAAY,CAACyD,QAAQ,EAAAT,QAAA,CACnB,SAAAA,SAACvB,KAAK,qBAAKvB,IAAA,CAACG,GAAG,EAACoB,KAAK,CAAEA,KAAM,CAAE,CAAC,GACZ,CAAC,CAE5B,CAAC,WAAA6B,UAAA,GAPsB5D,KAAK,CAAC2D,SAAS,EAUxC,cAAe,CAAAC,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}