{"ast":null,"code":"import _classCallCheck from\"C:/Users/hp/Desktop/React/movieapp/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/hp/Desktop/React/movieapp/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Users/hp/Desktop/React/movieapp/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/hp/Desktop/React/movieapp/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from\"react\";import{StoreContext}from\"..\";import{handleMovieSearch,handleAddMovieToList}from\"../action\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Navbar=/*#__PURE__*/function(_React$Component){_inherits(Navbar,_React$Component);var _super=_createSuper(Navbar);function Navbar(props){var _this;_classCallCheck(this,Navbar);_this=_super.call(this,props);_this.handleAddToMovies=function(movie){_this.props.dispatch(handleAddMovieToList(movie.imdbID));_this.setState({showSearchResults:false});};_this.handleChange=function(e){function callback(){if(this.state.searchText!==\"\"){var searchText=this.state.searchText;console.log(\"state search text => \",searchText);this.props.dispatch(handleMovieSearch(searchText));}}_this.setState({searchText:e.target.value},callback);};_this.handleSearch=function(){if(_this.state.searchText!==\"\"){var searchText=_this.state.searchText;_this.props.dispatch(handleMovieSearch(searchText));}return;};_this.state={searchText:\"\"};return _this;}_createClass(Navbar,[{key:\"render\",value:function render(){var _this2=this;var showSearchResults=this.props.search.showSearchResults;var result=this.props.search.result;var searchText=this.state.searchText!==\"\"?true:false;console.log(\"SEarch text =>\",this.state.searchText);console.log(\"NAVBAR render result=> \",result);return/*#__PURE__*/_jsx(\"div\",{className:\"navbar\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"search-container\",children:[/*#__PURE__*/_jsx(\"input\",{onChange:this.handleChange}),/*#__PURE__*/_jsx(\"button\",{id:\"search-btn\",onClick:this.handleSearch,children:\"Search\"}),showSearchResults&&result.Response===\"False\"&&searchText&&/*#__PURE__*/_jsx(\"div\",{className:\"search-results not\",children:result.Error}),showSearchResults&&result.Response===\"True\"&&/*#__PURE__*/_jsxs(\"div\",{className:\"search-results\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"search-result\",children:[/*#__PURE__*/_jsx(\"img\",{src:result.Search[0].Poster,alt:\"search-result-pic\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"movie-info\",children:[/*#__PURE__*/_jsx(\"span\",{children:result.Search[0].Title}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return _this2.handleAddToMovies(result.Search[0]);},children:\"Add to Movies\"})]})]}),result.Search.length>1&&/*#__PURE__*/_jsxs(\"div\",{className:\"search-result\",children:[/*#__PURE__*/_jsx(\"img\",{src:result.Search[1].Poster,alt:\"search-result-pic\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"movie-info\",children:[/*#__PURE__*/_jsx(\"span\",{children:result.Search[1].Title}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return _this2.handleAddToMovies(result.Search[1]);},children:\"Add to Movies\"})]})]}),result.Search.length>2&&/*#__PURE__*/_jsxs(\"div\",{className:\"search-result\",children:[/*#__PURE__*/_jsx(\"img\",{src:result.Search[2].Poster,alt:\"search-result-pic\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"movie-info\",children:[/*#__PURE__*/_jsx(\"span\",{children:result.Search[2].Title}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return _this2.handleAddToMovies(result.Search[2]);},children:\"Add to Movies\"})]})]})]})]})});}}]);return Navbar;}(React.Component);var NavbarWrapper=/*#__PURE__*/function(_React$Component2){_inherits(NavbarWrapper,_React$Component2);var _super2=_createSuper(NavbarWrapper);function NavbarWrapper(){_classCallCheck(this,NavbarWrapper);return _super2.apply(this,arguments);}_createClass(NavbarWrapper,[{key:\"render\",value:function render(){var _this3=this;return/*#__PURE__*/_jsx(StoreContext.Consumer,{children:function children(store){return/*#__PURE__*/_jsx(Navbar,{dispatch:store.dispatch,search:_this3.props.search});}});}}]);return NavbarWrapper;}(React.Component);export default NavbarWrapper;","map":{"version":3,"names":["React","StoreContext","handleMovieSearch","handleAddMovieToList","jsx","_jsx","jsxs","_jsxs","Navbar","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","handleAddToMovies","movie","dispatch","imdbID","setState","showSearchResults","handleChange","e","callback","state","searchText","console","log","target","value","handleSearch","_createClass","key","render","_this2","search","result","className","children","onChange","id","onClick","Response","Error","src","Search","Poster","alt","Title","length","Component","NavbarWrapper","_React$Component2","_super2","apply","arguments","_this3","Consumer","store"],"sources":["C:/Users/hp/Desktop/React/movieapp/src/components/Navbar.js"],"sourcesContent":["import React from \"react\";\r\nimport { StoreContext } from \"..\";\r\nimport { handleMovieSearch, handleAddMovieToList } from \"../action\";\r\nclass Navbar extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      searchText: \"\",\r\n    };\r\n  }\r\n  handleAddToMovies = (movie) => {\r\n    this.props.dispatch(handleAddMovieToList(movie.imdbID));\r\n    this.setState({\r\n      showSearchResults: false,\r\n    });\r\n  };\r\n  handleChange = (e) => {\r\n    function callback() {\r\n      if (this.state.searchText !== \"\") {\r\n        const { searchText } = this.state;\r\n        console.log(\"state search text => \", searchText);\r\n        this.props.dispatch(handleMovieSearch(searchText));\r\n      }\r\n    }\r\n    this.setState(\r\n      {\r\n        searchText: e.target.value,\r\n      },\r\n      callback\r\n    );\r\n  };\r\n  handleSearch = () => {\r\n    if (this.state.searchText !== \"\") {\r\n      const { searchText } = this.state;\r\n      this.props.dispatch(handleMovieSearch(searchText));\r\n    }\r\n    return;\r\n  };\r\n  render() {\r\n    const { showSearchResults } = this.props.search;\r\n    const { result } = this.props.search;\r\n    const searchText = this.state.searchText !== \"\" ? true : false;\r\n    console.log(\"SEarch text =>\", this.state.searchText);\r\n    console.log(\"NAVBAR render result=> \", result);\r\n    return (\r\n      <div className=\"navbar\">\r\n        <div className=\"search-container\">\r\n          <input onChange={this.handleChange} />\r\n          <button id=\"search-btn\" onClick={this.handleSearch}>\r\n            Search\r\n          </button>\r\n\r\n          {showSearchResults && result.Response === \"False\" && searchText && (\r\n            <div className=\"search-results not\">{result.Error}</div>\r\n          )}\r\n          {showSearchResults && result.Response === \"True\" && (\r\n            <div className=\"search-results\">\r\n              <div className=\"search-result\">\r\n                <img src={result.Search[0].Poster} alt=\"search-result-pic\" />\r\n\r\n                <div className=\"movie-info\">\r\n                  <span>{result.Search[0].Title}</span>\r\n                  <button\r\n                    onClick={() => this.handleAddToMovies(result.Search[0])}\r\n                  >\r\n                    Add to Movies\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              {result.Search.length > 1 && (\r\n                <div className=\"search-result\">\r\n                  <img src={result.Search[1].Poster} alt=\"search-result-pic\" />\r\n\r\n                  <div className=\"movie-info\">\r\n                    <span>{result.Search[1].Title}</span>\r\n                    <button\r\n                      onClick={() => this.handleAddToMovies(result.Search[1])}\r\n                    >\r\n                      Add to Movies\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n              {result.Search.length > 2 && (\r\n                <div className=\"search-result\">\r\n                  <img src={result.Search[2].Poster} alt=\"search-result-pic\" />\r\n\r\n                  <div className=\"movie-info\">\r\n                    <span>{result.Search[2].Title}</span>\r\n                    <button\r\n                      onClick={() => this.handleAddToMovies(result.Search[2])}\r\n                    >\r\n                      Add to Movies\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass NavbarWrapper extends React.Component {\r\n  render() {\r\n    return (\r\n      <StoreContext.Consumer>\r\n        {(store) => (\r\n          <Navbar dispatch={store.dispatch} search={this.props.search} />\r\n        )}\r\n      </StoreContext.Consumer>\r\n    );\r\n  }\r\n}\r\nexport default NavbarWrapper;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}